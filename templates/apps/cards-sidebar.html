<section class="sidebar-cards-manager">
    <h3 class="sidebar-header">
        <i class="fas fa-layer-group"></i> Card Management
    </h3>

    <!-- Set List Table -->
    <table class="sidebar-table">
        <thead>
            <tr>
                <th>Set</th>
                <th style="width: 80px; text-align: center;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each sets as |set|}}
            <tr>
                <!-- Set Name & Code -->
                <td>
                    <strong>{{set.code}}</strong>
                    <div style="font-size: 0.8em; color: var(--color-text-light-2);">
                        {{set.name}}
                    </div>
                </td>

                <!-- Actions -->
                <td style="text-align: center;">
                    <!-- Give Pack (AGM/GM) -->
                    <button type="button" class="give-pack control-icon icon-button" data-setcode="{{set.code}}"
                        title="Give Pack to All Players">
                        <i class="fas fa-gift"></i>
                    </button>

                    {{#if ../isGM}}
                    <!-- Give Cards (GM) -->
                    <button type="button" class="give-cards control-icon icon-button" data-setcode="{{set.code}}"
                        title="Give Specific Cards (Coming Soon)">
                        <i class="fas fa-hand-holding-magic"></i>
                    </button>

                    <!-- Delete Set (GM) -->
                    <button type="button" class="delete-set control-icon icon-button" data-setcode="{{set.code}}"
                        title="Delete Set & Clear Collections" style="color: red;">
                        <i class="fas fa-trash"></i>
                    </button>
                    {{/if}}
                </td>
            </tr>
            {{else}}
            <tr>
                <td colspan="2" style="text-align: center; color: gray; padding: 10px;">
                    No sets imported.
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>

    <!-- Add Set (GM Only) -->
    {{#if isGM}}
    <div style="text-align: center; margin-top: 5px;">
        <button type="button" class="add-set" style="width: 100%;">
            <i class="fas fa-download"></i> Import New Set
        </button>
    </div>
    {{/if}}
</section>